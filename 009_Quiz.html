<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz 009 SAP HANA - Modelado de Datos</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 20px;
            position: relative;
            z-index: 1;
        }

        .stat-item {
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 25px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            display: block;
        }

        .content {
            padding: 40px;
        }

        .question-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #667eea;
            display: none;
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.5s ease;
        }

        .question-card.active {
            display: block;
            transform: translateY(0);
            opacity: 1;
        }

        .question-number {
            color: #667eea;
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 25px;
            line-height: 1.4;
            color: #333;
        }

        .options {
            display: grid;
            gap: 15px;
            margin-bottom: 25px;
        }

        .option {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border: 2px solid transparent;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .option:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .option.correct {
            border-color: #4CAF50;
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
        }

        .option.incorrect {
            border-color: #f44336;
            background: linear-gradient(135deg, #f44336 0%, #da190b 100%);
            color: white;
        }

        .buttons {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .explanation {
            background: linear-gradient(135deg, #e8f5e8 0%, #f0f8f0 100%);
            border-left: 4px solid #4CAF50;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }

        .explanation.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .explanation h4 {
            color: #2e7d32;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .final-score {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            display: none;
            margin-top: 30px;
        }

        .final-score.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 2.5em;
            font-weight: bold;
            backdrop-filter: blur(10px);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            border-radius: 4px;
            transition: width 0.8s ease;
        }

        .study-tips {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            border-left: 4px solid #ff9800;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .study-tips h4 {
            color: #e65100;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .study-tips ul {
            margin-left: 20px;
        }

        .study-tips li {
            margin-bottom: 8px;
            color: #bf360c;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
            }
            
            .content {
                padding: 20px;
            }
            
            .stats {
                flex-direction: column;
                gap: 15px;
            }
            
            .buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎯 Quiz 009 SAP HANA</h1>
            <p>Modelado de Datos - Fundamentos y Conceptos Clave</p>
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-number" id="currentQuestion">1</span>
                    <span>Pregunta</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="totalQuestions">15</span>
                    <span>Total</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="score">0</span>
                    <span>Puntaje</span>
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <div class="content">
            <div id="questionContainer"></div>
            
            <div class="final-score" id="finalScore">
                <div class="score-circle" id="finalScoreCircle">0%</div>
                <h2>¡Quiz Completado!</h2>
                <p id="scoreMessage"></p>
                <button class="btn btn-primary" onclick="restartQuiz()">Reiniciar Quiz</button>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: "¿Por qué el modelado de datos es considerado el paso más importante al iniciar un proyecto?",
                options: [
                    "Porque determina el lenguaje de programación a utilizar",
                    "Porque constituye la estructura sobre la que se apoyará toda la aplicación",
                    "Porque es el más fácil de implementar",
                    "Porque es requerido por SAP HANA únicamente"
                ],
                correct: 1,
                explanation: "El modelado de datos constituye la estructura sobre la que se apoyará toda la aplicación. Si el diseño es deficiente, todo lo que se construya sobre él será también deficiente."
            },
            {
                question: "¿Cuál es el principio fundamental que se debe tener en cuenta al diseñar una base de datos?",
                options: [
                    "Usar la mayor cantidad de tablas posible",
                    "Si el diseño de nuestra base de datos es deficiente, todo lo que construyamos sobre ella será también deficiente",
                    "Siempre usar el modelo más complejo disponible",
                    "Enfocarse únicamente en la velocidad de acceso"
                ],
                correct: 1,
                explanation: "Este es el principio fundamental del modelado: la calidad del diseño de la base de datos determina la calidad de toda la aplicación que se construya sobre ella."
            },
            {
                question: "¿Qué muestran los modelos de datos según su definición?",
                options: [
                    "Solo las tablas y sus nombres",
                    "La estructura lógica de la base de datos, incluidas las relaciones y limitaciones",
                    "Únicamente los datos que se van a almacenar",
                    "Solo la tecnología específica a utilizar"
                ],
                correct: 1,
                explanation: "Los modelos muestran la estructura lógica de la base de datos, incluidas las relaciones y limitaciones que determinan cómo se almacenan los datos y cómo se accede a ellos."
            },
            {
                question: "¿Cuál fue el modelo que 'marcó un antes y un después' en el mundo de las bases de datos?",
                options: [
                    "Modelo Jerárquico",
                    "Modelo en Red",
                    "Modelo Relacional",
                    "Modelo Orientado a Objetos"
                ],
                correct: 2,
                explanation: "El modelo relacional marcó un antes y un después en el mundo de las bases de datos por su simplicidad conceptual, flexibilidad y robustez para manejar relaciones complejas entre datos."
            },
            {
                question: "¿Cuál es la diferencia fundamental entre el modelo jerárquico y el modelo en red?",
                options: [
                    "El jerárquico es más rápido que el modelo en red",
                    "En el jerárquico cada nodo puede tener únicamente un nodo padre, en el modelo en red puede tener más de un nodo padre",
                    "El modelo en red no puede tener nodos padre",
                    "No hay diferencias entre ambos modelos"
                ],
                correct: 1,
                explanation: "La diferencia fundamental es que en el modelo jerárquico cada nodo puede tener únicamente un nodo padre, mientras que en el modelo en red cada nodo puede tener más de un nodo padre."
            },
            {
                question: "¿Qué representan las entidades en el modelo relacional?",
                options: [
                    "Los usuarios del sistema",
                    "La representación de un objeto existente en el mundo real",
                    "Los procesos del sistema",
                    "Las consultas más frecuentes"
                ],
                correct: 1,
                explanation: "Las entidades son la representación de un objeto existente en el mundo real y se convertirán en las tablas de nuestro sistema de almacenaje."
            },
            {
                question: "¿Qué son los atributos en el contexto del modelado de datos?",
                options: [
                    "Las relaciones entre tablas",
                    "Las características que definen o identifican a una entidad",
                    "Los usuarios que acceden al sistema",
                    "Los procesos de validación de datos"
                ],
                correct: 1,
                explanation: "Los atributos son características que definen o identifican a una entidad y se convertirán en las columnas que almacenarán los datos en las tablas."
            },
            {
                question: "¿Qué especifica la cardinalidad en las relaciones?",
                options: [
                    "El tamaño de las tablas",
                    "La velocidad de acceso a los datos",
                    "El funcionamiento de la relación entre entidades",
                    "El tipo de datos a almacenar"
                ],
                correct: 2,
                explanation: "La cardinalidad especifica el funcionamiento de la relación, indicando si un registro de una tabla puede relacionarse con uno solo de otra tabla o con múltiples registros."
            },
            {
                question: "¿Cuál es el objetivo principal del proceso de diseño de base de datos?",
                options: [
                    "Crear la mayor cantidad de tablas posible",
                    "Tener la información almacenada de manera organizada, ocupando el menor espacio posible y con acceso sencillo",
                    "Usar únicamente tecnología SAP HANA",
                    "Maximizar el número de relaciones entre tablas"
                ],
                correct: 1,
                explanation: "El objetivo principal es tener la información almacenada de manera organizada, ocupando el menor espacio posible y con acceso sencillo."
            },
            {
                question: "¿Por qué no se deben incluir datos calculados como columnas separadas?",
                options: [
                    "Porque ocupan mucho espacio en disco",
                    "Para evitar redundancia de datos que pueden obtenerse mediante cálculos de columnas existentes",
                    "Porque SAP HANA no los soporta",
                    "Porque son más lentos de consultar"
                ],
                correct: 1,
                explanation: "No se deben incluir datos calculados para evitar redundancia de datos que pueden obtenerse mediante cálculos de columnas existentes, manteniendo así la integridad y consistencia."
            },
            {
                question: "En el proceso de diseño, ¿por qué es importante almacenar la información en sus partes lógicas más pequeñas?",
                options: [
                    "Para ocupar más espacio en disco",
                    "Para mayor flexibilidad en el uso de los datos",
                    "Para complicar las consultas",
                    "Para usar más tablas"
                ],
                correct: 1,
                explanation: "Almacenar la información en sus partes lógicas más pequeñas (como separar nombre, primer apellido y segundo apellido) proporciona mayor flexibilidad en el uso de los datos."
            },
            {
                question: "¿Qué es una clave en el contexto de bases de datos relacionales?",
                options: [
                    "Una contraseña de acceso",
                    "Un atributo que distingue cada registro del conjunto de forma unívoca",
                    "Un tipo especial de relación",
                    "Una herramienta de encriptación"
                ],
                correct: 1,
                explanation: "Una clave es un atributo de una entidad que distingue cada registro del conjunto de forma unívoca, principalmente refiriéndose a la clave primaria."
            },
            {
                question: "¿Cuál es la regla básica de las bases de datos relacionales respecto a la información?",
                options: [
                    "La información debe almacenarse en archivos de texto",
                    "La información debe poder representarse siempre en forma de tabla",
                    "La información debe estar encriptada",
                    "La información debe duplicarse en múltiples lugares"
                ],
                correct: 1,
                explanation: "La regla básica de las bases de datos relacionales es que la información debe poder representarse siempre en forma de tabla."
            },
            {
                question: "En el ejemplo de la facturación (Tijeras: 5€ × 3 unidades = 15€), ¿por qué el total no debe almacenarse como columna?",
                options: [
                    "Porque es un dato calculado que se obtiene multiplicando precio por cantidad",
                    "Porque ocupa mucho espacio",
                    "Porque es difícil de consultar",
                    "Porque SAP HANA no permite decimales"
                ],
                correct: 0,
                explanation: "El total no debe almacenarse porque es un dato calculado que se obtiene multiplicando precio por cantidad. Esto evita inconsistencias si cambia el precio o la cantidad."
            },
            {
                question: "¿Cuáles son los próximos temas que se abordarán después del modelado básico?",
                options: [
                    "Solo programación en SAP HANA",
                    "Modelo Entidad-Relación, Modelo Relacional y Reglas de Normalización",
                    "Únicamente instalación de software",
                    "Solo consultas SQL básicas"
                ],
                correct: 1,
                explanation: "Los próximos temas incluyen el Modelo Entidad-Relación (con diagramación), el Modelo Relacional (conversión a estructura física) y las Reglas de Normalización con ejemplos prácticos."
            }
        ];

        let currentQuestionIndex = 0;
        let userAnswers = [];
        let score = 0;

        function initQuiz() {
            displayQuestion();
            updateProgress();
        }

        function displayQuestion() {
            const container = document.getElementById('questionContainer');
            const question = questions[currentQuestionIndex];
            
            container.innerHTML = `
                <div class="question-card active">
                    <div class="question-number">Pregunta ${currentQuestionIndex + 1} de ${questions.length}</div>
                    <div class="question-text">${question.question}</div>
                    <div class="options" id="options">
                        ${question.options.map((option, index) => `
                            <div class="option" onclick="selectOption(${index})" data-index="${index}">
                                <strong>${String.fromCharCode(65 + index)})</strong> ${option}
                            </div>
                        `).join('')}
                    </div>
                    <div class="explanation" id="explanation">
                        <h4>💡 Explicación:</h4>
                        <p>${question.explanation}</p>
                    </div>
                    <div class="buttons">
                        <button class="btn btn-secondary" onclick="previousQuestion()" ${currentQuestionIndex === 0 ? 'disabled' : ''}>
                            ← Anterior
                        </button>
                        <button class="btn btn-primary" onclick="submitAnswer()" id="submitBtn" disabled>
                            Confirmar Respuesta
                        </button>
                        <button class="btn btn-primary" onclick="nextQuestion()" id="nextBtn" style="display: none;">
                            ${currentQuestionIndex === questions.length - 1 ? 'Ver Resultados' : 'Siguiente →'}
                        </button>
                    </div>
                </div>
            `;
            
            // Restore previous answer if exists
            if (userAnswers[currentQuestionIndex] !== undefined) {
                selectOption(userAnswers[currentQuestionIndex]);
                submitAnswer();
            }
        }

        function selectOption(index) {
            const options = document.querySelectorAll('.option');
            options.forEach(option => option.classList.remove('selected'));
            options[index].classList.add('selected');
            
            document.getElementById('submitBtn').disabled = false;
        }

        function submitAnswer() {
            const selectedOption = document.querySelector('.option.selected');
            if (!selectedOption) return;
            
            const selectedIndex = parseInt(selectedOption.dataset.index);
            const question = questions[currentQuestionIndex];
            
            userAnswers[currentQuestionIndex] = selectedIndex;
            
            const options = document.querySelectorAll('.option');
            options.forEach((option, index) => {
                option.onclick = null;
                if (index === question.correct) {
                    option.classList.add('correct');
                } else if (index === selectedIndex && index !== question.correct) {
                    option.classList.add('incorrect');
                }
            });
            
            document.getElementById('explanation').classList.add('show');
            document.getElementById('submitBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'block';
        }

        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                updateProgress();
            } else {
                showFinalScore();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
                updateProgress();
            }
        }

        function updateProgress() {
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            
            // Update score
            score = userAnswers.filter((answer, index) => answer === questions[index].correct).length;
            document.getElementById('score').textContent = score;
        }

        function showFinalScore() {
            const finalScore = Math.round((score / questions.length) * 100);
            
            document.getElementById('questionContainer').style.display = 'none';
            document.getElementById('finalScore').classList.add('show');
            document.getElementById('finalScoreCircle').textContent = finalScore + '%';
            
            let message = '';
            if (finalScore >= 80) {
                message = '🎉 ¡Excelente! Dominas los fundamentos del modelado de datos.';
            } else if (finalScore >= 60) {
                message = '👍 Buen trabajo. Revisa algunos conceptos para mejorar tu comprensión.';
            } else {
                message = '📚 Necesitas reforzar los conceptos básicos del modelado de datos.';
            }
            
            document.getElementById('scoreMessage').innerHTML = `
                <p>${message}</p>
                <div class="study-tips">
                    <h4>📋 Conceptos clave del modelado de datos:</h4>
                    <ul>
                        <li>La importancia del modelado como base de toda aplicación</li>
                        <li>Diferencias entre los modelos históricos (jerárquico, red, relacional, etc.)</li>
                        <li>Componentes del modelo relacional: entidades, atributos, relaciones, cardinalidad y claves</li>
                        <li>Proceso de diseño en 10 pasos fundamentales</li>
                        <li>Principio de no incluir datos calculados</li>
                        <li>Almacenamiento en partes lógicas más pequeñas</li>
                        <li>Objetivos: organización, menor espacio, acceso sencillo</li>
                    </ul>
                </div>
            `;
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            userAnswers = [];
            score = 0;
            
            document.getElementById('questionContainer').style.display = 'block';
            document.getElementById('finalScore').classList.remove('show');
            
            initQuiz();
        }

        // Initialize quiz when page loads
        window.onload = initQuiz;
    </script>
</body>
</html>