<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz 006 SAP HANA - Almacenamiento</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 20px;
            position: relative;
            z-index: 1;
        }

        .stat-item {
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 25px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            display: block;
        }

        .content {
            padding: 40px;
        }

        .question-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #667eea;
            display: none;
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.5s ease;
        }

        .question-card.active {
            display: block;
            transform: translateY(0);
            opacity: 1;
        }

        .question-number {
            color: #667eea;
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 25px;
            line-height: 1.4;
            color: #333;
        }

        .options {
            display: grid;
            gap: 15px;
            margin-bottom: 25px;
        }

        .option {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border: 2px solid transparent;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .option:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .option.correct {
            border-color: #4CAF50;
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
        }

        .option.incorrect {
            border-color: #f44336;
            background: linear-gradient(135deg, #f44336 0%, #da190b 100%);
            color: white;
        }

        .buttons {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .explanation {
            background: linear-gradient(135deg, #e8f5e8 0%, #f0f8f0 100%);
            border-left: 4px solid #4CAF50;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }

        .explanation.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .explanation h4 {
            color: #2e7d32;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .final-score {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            display: none;
            margin-top: 30px;
        }

        .final-score.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 2.5em;
            font-weight: bold;
            backdrop-filter: blur(10px);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            border-radius: 4px;
            transition: width 0.8s ease;
        }

        .study-tips {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            border-left: 4px solid #ff9800;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .study-tips h4 {
            color: #e65100;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .study-tips ul {
            margin-left: 20px;
        }

        .study-tips li {
            margin-bottom: 8px;
            color: #bf360c;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
            }
            
            .content {
                padding: 20px;
            }
            
            .stats {
                flex-direction: column;
                gap: 15px;
            }
            
            .buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎯 Quiz 006 | SAP HANA</h1>
            <p>Almacenamiento en SAP HANA - Preparación para Certificación</p>
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-number" id="currentQuestion">1</span>
                    <span>Pregunta</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="totalQuestions">15</span>
                    <span>Total</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="score">0</span>
                    <span>Puntaje</span>
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <div class="content">
            <div id="questionContainer"></div>
            
            <div class="final-score" id="finalScore">
                <div class="score-circle" id="finalScoreCircle">0%</div>
                <h2>¡Quiz Completado!</h2>
                <p id="scoreMessage"></p>
                <button class="btn btn-primary" onclick="restartQuiz()">Reiniciar Quiz</button>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: "¿Cuál es la principal diferencia entre sistemas transaccionales y analíticos en SAP HANA?",
                options: [
                    "Los sistemas transaccionales solo usan tablas en filas, los analíticos solo en columnas",
                    "Los sistemas transaccionales se enfocan en introducir, modificar y borrar datos; los analíticos en análisis de datos",
                    "Los sistemas transaccionales son más rápidos que los analíticos",
                    "No hay diferencia, ambos funcionan igual"
                ],
                correct: 1,
                explanation: "Los sistemas transaccionales se enfocan en operaciones CRUD (crear, leer, actualizar, eliminar) mientras que los sistemas analíticos se dedican al análisis de datos. SAP HANA maneja ambos tipos en la misma base de datos."
            },
            {
                question: "¿Qué tipo de almacenamiento es más eficiente para operaciones de agregación como sumatorios?",
                options: [
                    "Almacenamiento orientado a filas",
                    "Almacenamiento orientado a columnas",
                    "Ambos son igualmente eficientes",
                    "Depende del tamaño de la tabla"
                ],
                correct: 1,
                explanation: "El almacenamiento orientado a columnas es más eficiente para agregaciones porque los valores de una columna están almacenados de forma consecutiva, permitiendo lecturas más rápidas para operaciones como sumatorios."
            },
            {
                question: "¿Cuál es la ventaja principal del almacenamiento orientado a filas?",
                options: [
                    "Mayor compresión de datos",
                    "Mejor para operaciones de agregación",
                    "Más eficiente para consultas que requieren todas las columnas de un registro",
                    "Permite procesamiento en paralelo"
                ],
                correct: 2,
                explanation: "El almacenamiento orientado a filas es más eficiente cuando necesitamos obtener todas las columnas de un registro, ya que los datos están almacenados consecutivamente en el disco."
            },
            {
                question: "¿Qué tipo de compresión se aplica automáticamente a las tablas orientadas a columnas?",
                options: [
                    "Compresión ZIP",
                    "Compresión de diccionario",
                    "Compresión LZ4",
                    "Compresión GZIP"
                ],
                correct: 1,
                explanation: "La compresión de diccionario se aplica automáticamente a las tablas orientadas a columnas. Esta compresión elimina la repetición y almacena cada valor único una sola vez."
            },
            {
                question: "¿Cuál es el factor clave para obtener mayor compresión en tablas orientadas a columnas?",
                options: [
                    "Tamaño de la tabla",
                    "Número de columnas",
                    "Mayor repetición de valores",
                    "Tipo de datos utilizado"
                ],
                correct: 2,
                explanation: "A mayor repetición de valores, mayor será la compresión. La compresión de diccionario funciona mejor cuando hay muchos valores repetidos en los datos."
            },
            {
                question: "¿Cuál es la estructura típica de un sistema analítico?",
                options: [
                    "Estructura relacional normalizada",
                    "Estructura en estrella o copo de nieve",
                    "Estructura jerárquica",
                    "Estructura en red"
                ],
                correct: 1,
                explanation: "Los sistemas analíticos utilizan estructuras en estrella o copo de nieve, que consisten en una tabla central con datos numéricos rodeada de tablas que proporcionan contexto."
            },
            {
                question: "¿Qué ventaja tienen las tablas orientadas a columnas para el procesamiento en paralelo?",
                options: [
                    "Cada fila puede ser procesada por un núcleo diferente",
                    "Cada columna puede ser procesada por un núcleo diferente",
                    "Solo pueden usar un núcleo a la vez",
                    "No tienen ventajas para procesamiento en paralelo"
                ],
                correct: 1,
                explanation: "Las tablas orientadas a columnas permiten que cada columna sea procesada por un núcleo diferente del procesador, facilitando el procesamiento en paralelo."
            },
            {
                question: "¿Cuál es el máximo número de particiones permitido en una tabla de columnas desde SAP HANA 1.0 SPS10?",
                options: [
                    "1,000 particiones",
                    "5,000 particiones",
                    "10,000 particiones",
                    "16,000 particiones"
                ],
                correct: 3,
                explanation: "Desde SAP HANA 1.0 SPS10, el límite se amplió de 1,000 a 16,000 particiones por tabla de tipo columna, permitiendo mayor paralelización."
            },
            {
                question: "¿Qué son las tablas multialmacenadas en SAP HANA 2.0?",
                options: [
                    "Tablas que combinan almacenamiento en filas y columnas",
                    "Tablas particionadas entre memoria RAM y memoria extendida",
                    "Tablas que se replican en múltiples servidores",
                    "Tablas que usan diferentes tipos de compresión"
                ],
                correct: 1,
                explanation: "Las tablas multialmacenadas son un tipo especial que apareció con HANA 2.0, donde las particiones se distribuyen entre memoria RAM y memoria extendida según criterios específicos."
            },
            {
                question: "¿Cuándo es necesario utilizar índices en SAP HANA?",
                options: [
                    "Siempre son necesarios",
                    "Solo en tablas orientadas a filas",
                    "Solo en tablas orientadas a columnas",
                    "Nunca son necesarios"
                ],
                correct: 1,
                explanation: "Los índices son principalmente necesarios en tablas orientadas a filas. En tablas orientadas a columnas pierden sentido debido a la forma en que se almacenan los datos."
            },
            {
                question: "¿Qué desventaja tienen las tablas orientadas a columnas?",
                options: [
                    "No se pueden comprimir",
                    "No permiten procesamiento en paralelo",
                    "El costo de reconstruir registros completos es alto",
                    "Ocupan más espacio en disco"
                ],
                correct: 2,
                explanation: "Las tablas orientadas a columnas tienen un alto costo para reconstruir registros completos cuando se necesitan todas las columnas, especialmente en aplicaciones transaccionales."
            },
            {
                question: "¿Qué es la memoria extendida en SAP HANA?",
                options: [
                    "Memoria RAM adicional",
                    "Una capa de almacenamiento basada en disco para datos menos críticos",
                    "Memoria caché del procesador",
                    "Memoria virtual del sistema operativo"
                ],
                correct: 1,
                explanation: "La memoria extendida es una capa de almacenamiento basada en disco que se añade desde SAP HANA SPS09 para almacenar tablas que no requieren rendimiento óptimo."
            },
            {
                question: "¿Cuál es el beneficio principal de la compresión en tablas orientadas a columnas?",
                options: [
                    "Reduce el tiempo de procesamiento",
                    "Permite más datos en caché de CPU y reduce accesos a memoria/disco",
                    "Mejora la seguridad de los datos",
                    "Facilita las copias de seguridad únicamente"
                ],
                correct: 1,
                explanation: "La compresión permite tener más datos en la caché de CPU (memoria más rápida) y reduce los accesos a memoria RAM y disco duro, mejorando el rendimiento general."
            },
            {
                question: "¿Qué tipos de particionamiento existen para tablas orientadas a columnas?",
                options: [
                    "Solo particionamiento automático",
                    "Particionamiento por valores de columna, automático por la base de datos, y round-robin",
                    "Solo particionamiento manual",
                    "Particionamiento por fecha únicamente"
                ],
                correct: 1,
                explanation: "Existen tres tipos: por valores de una columna, automático (la base de datos decide), y round-robin (distribución secuencial entre particiones)."
            },
            {
                question: "¿Por qué las bases de datos tradicionales no aprovechaban bien el procesamiento en paralelo?",
                options: [
                    "Los procesadores antiguos no tenían múltiples núcleos",
                    "Las limitaciones de los discos duros magnéticos con agujas de lectura",
                    "Los sistemas operativos no lo permitían",
                    "Era demasiado costoso implementarlo"
                ],
                correct: 1,
                explanation: "Los discos duros magnéticos tenían agujas de lectura que solo podían estar en un lugar a la vez, impidiendo lecturas en paralelo. Al pasar a memoria RAM, esta limitación desaparece."
            }
        ];

        let currentQuestionIndex = 0;
        let userAnswers = [];
        let score = 0;

        function initQuiz() {
            displayQuestion();
            updateProgress();
        }

        function displayQuestion() {
            const container = document.getElementById('questionContainer');
            const question = questions[currentQuestionIndex];
            
            container.innerHTML = `
                <div class="question-card active">
                    <div class="question-number">Pregunta ${currentQuestionIndex + 1} de ${questions.length}</div>
                    <div class="question-text">${question.question}</div>
                    <div class="options" id="options">
                        ${question.options.map((option, index) => `
                            <div class="option" onclick="selectOption(${index})" data-index="${index}">
                                <strong>${String.fromCharCode(65 + index)})</strong> ${option}
                            </div>
                        `).join('')}
                    </div>
                    <div class="explanation" id="explanation">
                        <h4>💡 Explicación:</h4>
                        <p>${question.explanation}</p>
                    </div>
                    <div class="buttons">
                        <button class="btn btn-secondary" onclick="previousQuestion()" ${currentQuestionIndex === 0 ? 'disabled' : ''}>
                            ← Anterior
                        </button>
                        <button class="btn btn-primary" onclick="submitAnswer()" id="submitBtn" disabled>
                            Confirmar Respuesta
                        </button>
                        <button class="btn btn-primary" onclick="nextQuestion()" id="nextBtn" style="display: none;">
                            ${currentQuestionIndex === questions.length - 1 ? 'Ver Resultados' : 'Siguiente →'}
                        </button>
                    </div>
                </div>
            `;
            
            // Restore previous answer if exists
            if (userAnswers[currentQuestionIndex] !== undefined) {
                selectOption(userAnswers[currentQuestionIndex]);
                submitAnswer();
            }
        }

        function selectOption(index) {
            const options = document.querySelectorAll('.option');
            options.forEach(option => option.classList.remove('selected'));
            options[index].classList.add('selected');
            
            document.getElementById('submitBtn').disabled = false;
        }

        function submitAnswer() {
            const selectedOption = document.querySelector('.option.selected');
            if (!selectedOption) return;
            
            const selectedIndex = parseInt(selectedOption.dataset.index);
            const question = questions[currentQuestionIndex];
            
            userAnswers[currentQuestionIndex] = selectedIndex;
            
            const options = document.querySelectorAll('.option');
            options.forEach((option, index) => {
                option.onclick = null;
                if (index === question.correct) {
                    option.classList.add('correct');
                } else if (index === selectedIndex && index !== question.correct) {
                    option.classList.add('incorrect');
                }
            });
            
            document.getElementById('explanation').classList.add('show');
            document.getElementById('submitBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'block';
        }

        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                updateProgress();
            } else {
                showFinalScore();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
                updateProgress();
            }
        }

        function updateProgress() {
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            
            // Update score
            score = userAnswers.filter((answer, index) => answer === questions[index].correct).length;
            document.getElementById('score').textContent = score;
        }

        function showFinalScore() {
            const finalScore = Math.round((score / questions.length) * 100);
            
            document.getElementById('questionContainer').style.display = 'none';
            document.getElementById('finalScore').classList.add('show');
            document.getElementById('finalScoreCircle').textContent = finalScore + '%';
            
            let message = '';
            if (finalScore >= 80) {
                message = '🎉 ¡Excelente! Estás listo para la certificación SAP HANA.';
            } else if (finalScore >= 60) {
                message = '👍 Buen trabajo. Revisa los temas que necesitas reforzar.';
            } else {
                message = '📚 Necesitas estudiar más. Revisa el material y vuelve a intentarlo.';
            }
            
            document.getElementById('scoreMessage').innerHTML = `
                <p>${message}</p>
                <div class="study-tips">
                    <h4>📋 Puntos clave para la certificación:</h4>
                    <ul>
                        <li>Dominar las diferencias entre almacenamiento en filas vs columnas</li>
                        <li>Comprender cuándo usar cada tipo de almacenamiento</li>
                        <li>Conocer la compresión de diccionario en tablas columna</li>
                        <li>Entender el procesamiento en paralelo y particionamiento</li>
                        <li>Saber sobre memoria extendida y tablas multialmacenadas</li>
                        <li>Recordar los límites de particiones (16,000 desde SPS10)</li>
                    </ul>
                </div>
            `;
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            userAnswers = [];
            score = 0;
            
            document.getElementById('questionContainer').style.display = 'block';
            document.getElementById('finalScore').classList.remove('show');
            
            initQuiz();
        }

        // Initialize quiz when page loads
        window.onload = initQuiz;
    </script>
</body>
</html>